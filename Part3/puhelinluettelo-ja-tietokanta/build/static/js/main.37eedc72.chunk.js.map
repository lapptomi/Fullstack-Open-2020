{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","nameFilter","handleChange","value","onChange","PersonForm","handleSubmit","name","number","handleNameChange","handleNumberChange","onSubmit","type","Person","person","handleDeletion","onClick","window","confirm","id","Persons","filteredPersons","map","i","key","baseUrl","axios","get","personObject","post","personObect","put","delete","Notification","operation","message","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setNameFilter","notificationOperation","setNotificationOperation","notificationMessage","setNotificationMessage","useEffect","personService","then","response","data","showTempNotification","setTimeout","updatePerson","personToUpdate","find","p","toLowerCase","updatedPerson","catch","error","console","log","filter","includes","event","target","preventDefault","nameNotUnique","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.37eedc72.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({nameFilter, handleChange}) => {\n  return (\n    <div>\n      filter shown with\n      <input value={nameFilter} onChange={handleChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({\n  handleSubmit, \n  name, \n  number,\n  handleNameChange,\n  handleNumberChange\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={name} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({person, handleDeletion}) => {\n  const confirmDeletion = () => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      handleDeletion(person.id)\n    }\n  }\n\n  return (\n    <p>\n      {person.name} {person.number}\n      <button onClick={confirmDeletion}>\n        delete\n      </button>\n    </p>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({filteredPersons, handleDeletion}) => {\n  return (\n    <>\n    {filteredPersons.map((person, i) => \n      <Person \n        person={person} \n        handleDeletion={handleDeletion}\n        key={i}\n      />\n    )}\n    </>\n  )\n}\n\nexport default Persons","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (personObject) => {\n  return axios.post(baseUrl, personObject)\n}\n\nconst update = (id, personObect) => {\n  return axios.put(`${baseUrl}/${id}`, personObect)\n}\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\n \nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  remove: remove,\n}","import React from 'react'\n\nconst Notification = ({operation, message}) => {\n  if (operation === null) { \n    return null\n  }\n  \n  return (\n    <div className={operation}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNameFilter] = useState('')\n  const [notificationOperation, setNotificationOperation] = useState(null)\n  const [notificationMessage, setNotificationMessage] = useState('')\n\n\n  useEffect(() => {\n    personService.getAll()\n      .then(response => setPersons(response.data))\n  }, [])\n\n  const handleFilterChange = (event) => {\n    setNameFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const showTempNotification = (operation, message) => {\n    setNotificationOperation(operation)\n    setNotificationMessage(message)\n    setTimeout(() => {\n      setNotificationOperation(null)\n      setNotificationMessage('')\n    }, 3000)\n  }\n  \n\n  const handleFormSubmit = (event) => {\n    event.preventDefault()\n    const nameNotUnique = persons.find(person => \n      person.name.toLowerCase() === newName.toLowerCase())\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (nameNotUnique) {\n      const confirmUpdate = (\n        window.confirm(`${newName} is already added to phonebook, `\n        + 'replace the old number with a new one?')\n      )\n      if (confirmUpdate) {\n        updatePerson()\n      }\n    } else {\n      personService.create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          showTempNotification('addPerson', `Added ${personObject.name}`)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          showTempNotification('error', `Name or number is too short!`)\n        })\n    }\n  }\n\n  const updatePerson = () => {\n    const personToUpdate = persons.find(p => \n      p.name.toLowerCase() === newName.toLowerCase())\n\n    const updatedPerson = {\n      name: personToUpdate.name,\n      number: newNumber\n    }\n    personService\n      .update(personToUpdate.id, updatedPerson)\n      .then(() => {\n        personService.getAll().then(response => {\n          setPersons(response.data)\n          setNewName('')\n          setNewNumber('')\n          showTempNotification('updatePerson', `Updated number of ${personToUpdate.name}`)\n        })\n      })\n      .catch(error => {\n        console.log(error)\n        showTempNotification('error' ,`Number minimum length is 8`)\n      })\n  }\n\n  const deletePerson = (id) => {\n    const person = persons.find(p => p.id === id)\n    personService\n      .remove(id)\n      .then(() => {\n        setPersons(persons.filter(p => p.id !== id))\n        showTempNotification('deletePerson', `Deleted ${person.name}`)\n      })\n  }\n\n  const filteredPersons = persons.filter(person => {\n    return person.name.toLowerCase().includes(nameFilter.toLowerCase())\n  })\n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification\n        operation={notificationOperation}\n        message={notificationMessage}\n      />\n        <Filter \n          nameFilter={nameFilter} \n          handleChange={handleFilterChange} \n        />\n      <h2>add a new</h2>\n        <PersonForm \n          handleSubmit={handleFormSubmit}\n          name={newName}\n          number={newNumber}\n          handleNameChange={handleNameChange}\n          handleNumberChange={handleNumberChange}\n        />\n      <h2>Numbers</h2>\n      <Persons \n        filteredPersons={filteredPersons} \n        handleDeletion={deletePerson}\n      />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}